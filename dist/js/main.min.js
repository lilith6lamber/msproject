const sliderSettings={item:1,slideMove:1,loop:!0,enableDrag:!1,pager:!1,keyPress:!0,controls:!1,mode:"fade",auto:!0,pause:3e3,speed:900,pauseOnHover:!0};$(".scroll_top").click((function(){$("html, body").animate({scrollTop:0},1e3)})),$(window).scroll((function(){$(window).scrollTop()>0&&$(".scroll_bottom").addClass("active"),$(window).scrollTop()>300?$(".scroll_top").addClass("active"):$(".scroll_top").removeClass("active"),navScroll()}));let nav=$("nav"),sticky=nav.offset().top;function navScroll(){window.pageYOffset>sticky?nav.addClass("sticky"):nav.removeClass("sticky")}let animate="animate__animated animate__",cat,postID=0,catVal,color,sort,chosenCat=!1,chosenCol=!1;function showMore(){let diff;itemsToShow+=totalItems-itemsToShow,drawCatalog()}$((function(){$("#loginlink").click((function(){Swal.fire({title:"Log in",showConfirmButton:!1,showClass:{popup:animate+"fadeIn",backdrop:animate+"fadeIn swal2-backdrop-show"},hideClass:{popup:animate+"fadeOut",backdrop:animate+"fadeOut swal2-backdrop-show"},html:'\n                <form method="POST" id="loginform">\n                    <input type="email" class="login-field" placeholder="Email">\n                    <input type="password" class="login-field" placeholder="Password">\n                    <button type="button">Submit</button>\n                </form>\n            '})})),$("input[name=cat]").click((function(){cat=$(this).val(),drawPosts()})),$(".hamburger--minus").click((function(){$(this).toggleClass("is-active"),$("#submenu").toggleClass("is-active-nav")})),$("#bottom").click((function(){return $("html, body").animate({scrollTop:$(document).height()},1e3),!1}));let hotSlider=$("#hotproducts").lightSlider(sliderSettings),shopSlider=$("#showrooms").lightSlider(sliderSettings),saleSlider=$("#saleslider").lightSlider(sliderSettings);$("#goprev").click((function(){return hotSlider.goToPrevSlide(),!1})),$("#gonext").click((function(){return hotSlider.goToNextSlide(),!1})),$("#shop_prev").click((function(){return shopSlider.goToPrevSlide(),!1})),$("#shop_next").click((function(){return shopSlider.goToNextSlide(),!1})),$("#sale_prev").click((function(){return saleSlider.goToPrevSlide(),!1})),$("#sale_next").click((function(){return saleSlider.goToNextSlide(),!1}));let lazyLoadInstance=new LazyLoad({elements_selector:".lazy"});$("input").focus((function(){$(this).data("placeholder",$(this).attr("placeholder")).attr("placeholder","")})).blur((function(){$(this).attr("placeholder",$(this).data("placeholder"))})),lightbox.option({wrapAround:!0,albumLabel:"",disableScrolling:!0}),(new WOW).init(),$(".catitem").click((function(e){e.preventDefault(),catVal=$(this).data("value"),color=void 0,drawCatalog()})),$(".colitem").click((function(e){e.preventDefault(),color=$(this).data("value"),drawCatalog()})),$("#catlist").on("click","li:not(.cat-active)",(function(){$(this).addClass("cat-active").siblings().removeClass("cat-active")})),$("#colorlist").on("click","li:not(.color-choice)",(function(){$(this).addClass("color-choice").siblings().removeClass("color-choice")})),$(".sortlnk").click((function(e){e.preventDefault(),sort=$(this).data("value"),drawCatalog()})),$(".sortby").on("click","a:not(.sort-active)",(function(){$(this).addClass("sort-active").siblings().removeClass("sort-active")})),drawCatalog(),drawPosts(),drawMap()}));let itemsToShow=12,totalItems=0;function drawCatalog(){$.ajax({type:"GET",url:"data/data.json",dataType:"json",success:function(json){let img,html="",item,price;totalItems=json.products.length;let finded,liclass="newitem",newclass="newitem wow animate__animated animate__fadeIn";if(0!=$("body").find(".newitems").length){for(let i=0;i<itemsToShow;i++)img=json.products[i].img,item=json.products[i].itemname,price=json.products[i].price,i>12&&(liclass=newclass),html+=drawProdHTML(liclass,img,item,price);$("#catalog").html(html),$("#catalog").append('<li aria-hidden="true" class="hidden"></li>'),checkDisplay()}else{let newArray=json.products.filter((function(el){return el.category==catVal})),filterArray=json.products.filter((function(el){return el.color==color}));if(null!=color&&(newArray=[]),"low"==sort?(json.products.sort((a,b)=>a.price-b.price),newArray.sort((a,b)=>a.price-b.price),filterArray.sort((a,b)=>a.price-b.price)):"high"==sort&&(json.products.sort((a,b)=>b.price-a.price),newArray.sort((a,b)=>b.price-a.price),filterArray.sort((a,b)=>b.price-a.price)),0==newArray.length&&0==filterArray.length)for(let n=0;n<totalItems;n++)img=json.products[n].img,item=json.products[n].itemname,price=json.products[n].price,html+=drawProdHTML(liclass,img,item,price);else if(0!=newArray.length)for(let a=0;a<newArray.length;a++)img=newArray[a].img,item=newArray[a].itemname,price=newArray[a].price,html+=drawProdHTML(newclass,img,item,price);else if(0!=filterArray.length)for(let f=0;f<filterArray.length;f++)img=filterArray[f].img,item=filterArray[f].itemname,price=filterArray[f].price,html+=drawProdHTML(newclass,img,item,price);$("#productslist").html(html),$("#productslist").append('<li aria-hidden="true" class="hidden"></li>')}}})}function drawProdHTML(li="newitem",img,item,price){let html;return`\n        <li class="${li}">\n            <picture>\n                <source type="image/webp" srcset="img/${img}.webp">\n                <source type="image/jpeg" srcset="img/${img}.jpg">\n                <img src="img/${img}.jpg" alt="item">\n            </picture>\n        <div class="short-info">\n            <p class="itemname">${item}</p>\n            <p class="itemprice">$${price}</p>\n        </div>\n        <div class="customer-action">\n            <a href="javasript:void(0)" class="btnadd actbtn" data-price="${price}">Buy</a>\n            <a href="javasript:void(0)" class="btninfo actbtn">Details</a>\n        </div>\n    </li>\n    `}function checkDisplay(){itemsToShow==totalItems&&$("#showmore").hide()}function sortProducts(arr){arr.sort((a,b)=>a-b)}function drawMap(){let map=L.map("map",{scrollWheelZoom:!1,fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"}}).setView([57.729535,-106.420245],2),myFilter=["grayscale:90%","contrast:70%","brightness:110%"];L.tileLayer=L.tileLayer.colorFilter("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',filter:myFilter}).addTo(map),map.dispMap=function(){map.plotMap(),map.map.invalidateSize()},L.control.locate({strings:{title:"Your location"},icon:"icon-location-control"}).addTo(map);let markers=L.markerClusterGroup({removeOutsideVisibleBounds:!0,disableClusteringAtZoom:16});$.ajax({type:"GET",url:"data/data.json",dataType:"json",success:function(json){for(let i=0;i<json.stores.length;i++){let popup_data=`<div class="mr_general">\n                        <p class="mr_city">${json.stores[i].city}</p>\n                        <p class="mr_add">${json.stores[i].address}</p>\n                        <p class="mr_loc">${json.stores[i].location}</p>\n                    </div>\n                    <div class="mr_additional">\n                        <p class="mr_hours">${json.stores[i].ophours}</p>\n                `;null!=json.stores[i].phone&&(popup_data+=`<a href="tel:${json.stores[i].phone}" class="phonelink"><i class="icon-phone"></i>${json.stores[i].phone}</a>`),null!=json.stores[i].web&&(popup_data+=`<a href="${json.stores[i].web}" target="_blank" class="storelink"><i class="icon-web"></i>Website</a>`),markers.addLayer(L.marker([json.stores[i].lat,json.stores[i].lng]).bindPopup(popup_data))}map.addLayer(markers)}})}function drawPosts(){$.ajax({type:"GET",url:"data/data.json",dataType:"json",success:function(json){let html="",newArray=json.posts.filter((function(el){return el.category==cat}));if(0==newArray.length)for(let i=0;i<json.posts.length;i++){let img=json.posts[i].img,title=json.posts[i].title,id=json.posts[i].id,author=json.posts[i].author,date=json.posts[i].date;html+=drawHTML(img,title,!0,id),id==localStorage.getItem("id")&&setData(id,img,title,author,date)}else for(let c=0;c<newArray.length;c++){let img,title,id;html+=drawHTML(newArray[c].img,newArray[c].title,!0,newArray[c].id)}$("#postslist").html(html),drawSingle()}})}function drawHTML(img,title,lorem,id){let html;return`\n    <li class="animate__animated animate__fadeIn">\n        <div class="blogimg_wrap">\n            <picture>\n                <source type="image/webp" srcset="img/${img}.webp">\n                <source type="image/jpeg" srcset="img/${img}.jpg">\n                <img src="img/${img}.jpg" alt="post">\n            </picture>\n            <div class="overlay"></div>\n        </div>\n        <div class="blogtext_wrap">\n            <h2 class="post-title">${title}</h2>\n            <p class="post-preview">${lorem="Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam aliquid provident\n    quas optio dolor quaerat."}</p>\n            <a href="single.html" class="post-read" data-id="${id}" onclick="getID($(this))" target="_blank">Read more</a>\n        </div>\n    </li>\n`}function getID($lnk){postID=$lnk.data("id"),localStorage.setItem("id",postID)}function setData(id,img,title,author,date){if(id=localStorage.getItem("id")){let postData={img:img,title:title,author:author,date:date};localStorage.setItem("data",JSON.stringify(postData))}}function drawSingle(){let DATA=JSON.parse(localStorage.getItem("data")),bg=`url(img/${DATA.img}-lg.jpg)`,title=DATA.title,author=DATA.author,date=DATA.date,views=parseInt(1e4*Math.random());$("#single-head").css("background-image",bg),$("#post-title").text(title),$("#author").text(author),$("#date").text(date),$("#views").text(views)}